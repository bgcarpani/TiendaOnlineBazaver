@model  Bazaver2.ViewModel.VentasViewModel

@{
    Layout = null;
}


<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Bazaver Lobos</title>
    <link rel="icon" type="image/x-icon" href="~/Content/Images/bazaverfavicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    @*<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />*@
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="~/Content/css/styles.css" rel="stylesheet" />
    <link href="~/Content/themes/base/core.css" rel="stylesheet" />
    <link href="~/Content/themes/base/theme.css" rel="stylesheet" />
    @*<link href="~/Content/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">*@
    <!-- Custom styles for this template -->


</head>
<body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" style="background-color:black" id="mainNav">
        <div class="container">
            <a class="navbar-brand js-scroll-trigger" href="~/Home/Index"><img src="~/Content/assets/img/bazaverlogo.png" alt="" /></a> @*LOGO*@
            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                Menu
                <i class="fas fa-bars ml-1"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav text-uppercase ml-auto">
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="~/Home/Index#services">Servicios</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="~/Home/Index#portfolio">Fotografía</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="~/Home/Index#about">Productos</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="~/Home/Index#team">Nosotros</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="~/Home/Index#contact">Contacto</a></li>
                    @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
                    {
                        @Html.AntiForgeryToken()

                        if (User.IsInRole("Admin"))
                        {
                            <li class="nav-item"><a class="nav-link js-scroll-trigger" href="~/Ventas/Index">Panel</a></li>
                            <li class="nav-item"><a class="nav-link js-scroll-trigger" href="javascript:document.getElementById('logoutForm').submit()">Log Off</a></li>
                        }
                        else if (User.IsInRole("Mayorista"))
                        {
                            <ul class="navbar-nav text-uppercase ml-auto">
                                <li class="nav-item"><a class="nav-link js-scroll-trigger" href="javascript:document.getElementById('logoutForm').submit()">Log Off</a></li>
                            </ul>
                        }
                        else
                        {
                            <ul class="navbar-nav text-uppercase ml-auto">
                                <li class="nav-item"><a class="nav-link js-scroll-trigger" href="~/Account/Login">Iniciar Sesión</a></li>
                            </ul>

                        }
                    }

                    @*@Html.Partial("_LoginPartial")*@
                </ul>
            </div>
        </div>
    </nav>
    <header class="masthead" style="background-image:none">

        <div class="container">

            <h2 style="color:black; text-align:left">

                Datos personales

            </h2>

            @using (Html.BeginForm("AlmostThere", "Ventas", FormMethod.Get, new { enctype = "multipart/form-data" }))
            {
                @Html.AntiForgeryToken()

               <div class="form-horizontal">

                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                   <div class="row" style="padding-top:5px">


                       @Html.LabelFor(model => model.NombreCliente, htmlAttributes: new { @class = "control-label col-md-2", style = "color:black" })
                       <div class="col-md-4">
                           @Html.EditorFor(model => model.NombreCliente, new { htmlAttributes = new { @class = "form-control", placeholder = "E.j. Juan", style = "width:350px" } })
                           @Html.ValidationMessageFor(model => model.NombreCliente, "", new { @class = "text-danger" })
                       </div>



                       @Html.LabelFor(model => model.ApellidoCliente, htmlAttributes: new { @class = "control-label col-md-2", style = "color:black" })
                       <div class="col-md-4" style="padding-top:5px">
                           @Html.EditorFor(model => model.ApellidoCliente, new { htmlAttributes = new { @class = "form-control", placeholder = "E.j. Pérez", style = "width:350px" } })
                           @Html.ValidationMessageFor(model => model.ApellidoCliente, "", new { @class = "text-danger" })
                       </div>

                       @Html.LabelFor(model => model.LocalidadId, "Localidad", htmlAttributes: new { @class = "control-label col-md-2", style = "color:black" })
                       <div class="col-md-4" style="padding-top:5px">
                           @Html.DropDownList("LocalidadId", null, htmlAttributes: new { @class = "form-control", style = "width:350px" })
                           @Html.ValidationMessageFor(model => model.LocalidadId, "", new { @class = "text-danger" })
                           <div style="color:forestgreen;font-size:small">
                               ¿No encontrás tu localidad? Comunicate al 2227-444444
                           </div>
                       </div>




                       @Html.LabelFor(model => model.Direccion, htmlAttributes: new { @class = "control-label col-md-2", style = "color:black" })
                       <div class="col-md-4" style="padding-top:5px">
                           @Html.EditorFor(model => model.Direccion, new { htmlAttributes = new { @class = "form-control", placeholder = "E.j. Calle 9 de Julio 123", style = "width:350px" } })
                           @Html.ValidationMessageFor(model => model.Direccion, "", new { @class = "text-danger" })
                       </div>


                       @Html.LabelFor(model => model.Comentarios, htmlAttributes: new { @class = "control-label col-md-2", style = "color:black" })
                       <div class="col-md-4" style="padding-top:5px">
                           @Html.EditorFor(model => model.Comentarios, new { htmlAttributes = new { @class = "form-control", placeholder = "E.j. Entre Calles 1 y 2", style = "width:350px" } })
                           @Html.ValidationMessageFor(model => model.Comentarios, "", new { @class = "text-danger" })
                       </div>



                       @Html.LabelFor(model => model.Telefono, htmlAttributes: new { @class = "control-label col-md-2", style = "color:black" })
                       <div class="col-md-4" style="padding-top:5px">
                           @Html.EditorFor(model => model.Telefono, new { htmlAttributes = new { @class = "form-control", placeholder = "E.j. 2227441234", style = "width:350px" } })
                           @Html.ValidationMessageFor(model => model.Telefono, "", new { @class = "text-danger" })
                       </div>


                       @Html.LabelFor(model => model.Correo, htmlAttributes: new { @class = "control-label col-md-2", style = "color:black" })
                       <div class="col-md-4" style="padding-top:5px">
                           @Html.EditorFor(model => model.Correo, new { htmlAttributes = new { @class = "form-control", placeholder = "E.j. micorreo@gmail.com", style = "width:350px" } })
                           @Html.ValidationMessageFor(model => model.Correo, "", new { @class = "text-danger" })
                       </div>


                       <div class="col-lg-12 col-md-12" style="padding-top:25px">
                           <h2 style="color:black">
                               Carrito:
                               <br />
                           </h2>
                           @if (Model.DetallesVentas2.Count > 0)
                           {
                               <table class="table">
                                   <tr>
                                       <th>
                                           Imagen
                                       </th>

                                       <th>
                                           @Html.DisplayNameFor(model => model.DetallesVentas2[0].Descripcion)
                                       </th>

                                       <th>
                                           @Html.DisplayNameFor(model => model.DetallesVentas2[0].Color.Nombre)
                                       </th>

                                       <th>
                                           @Html.DisplayNameFor(model => model.DetallesVentas2[0].Precio)
                                       </th>
                                       <th>
                                           @Html.DisplayNameFor(model => model.DetallesVentas2[0].Cantidad)
                                       </th>

                                       @*<th>
                             @Html.DisplayNameFor(model => model.DetallesVentas2[0].Value)
                        </th>*@


                                   </tr>

                                   @foreach (var item in Model.DetallesVentas2)
                                   {
                                       <tr>
                                           <td>
                                               @if (!string.IsNullOrEmpty(item.Product.Image))
                                               {
                                                   <img src="@Url.Content(item.Product.Image)" alt="Image" style="width:100px;height:100px;max-width: 100%; height: auto;" />
                                               }
                                           </td>
                                           <td>
                                               @Html.DisplayFor(modelItem => item.Product.Descripcion)
                                           </td>
                                           <td>
                                               @Html.DisplayFor(modelItem => item.Color.Nombre)
                                           </td>
                                           <td>
                                               $
                                               @if (User.IsInRole("Mayorista"))
                                               {
                                                   @Html.DisplayFor(modelItem => item.Product.PrecioMay);
                                               }
                                               else
                                               {
                                                   @Html.DisplayFor(modelItem => item.Product.PrecioMin);
                                               }
                                           </td>
                                           <td>
                                               @Html.DisplayFor(modelItem => item.Cantidad)
                                           </td>
                                           @*<td style="text-align: right">
                                @Html.DisplayFor(modelItem => item.Value)
                            </td>*@


                                       </tr>
                                   }
                                   <tr>
                                       <td>
                                           Total:
                                       </td>
                                       <td>
                                       </td>
                                       <td>
                                       </td>
                                       <td>
                                       </td>
                                       <td>
                                           $
                                           @if (User.IsInRole("Mayorista"))
                                           {
                                               @Html.DisplayFor(model => model.TotalValueMay);
                                           }
                                           else
                                           {
                                               @Html.DisplayFor(model => model.TotalValue);

                                           }
                                       </td>

                                   </tr>

                                   }


                               </table>
                           }


                           <div class="form-group">
                               <div class="col-md-offset-2 col-md-10">
                                   <input type="hidden" name="Fecha" value="@DateTime.Today.ToString("yyyy-MM-dd HH:mm")" />
                                   <input type="submit" value="Siguiente >>" class="btn btn-primary" />
                                   @Html.ActionLink("Atrás", "NuevaVenta", new { }, new { @class = "btn btn-primary btn-size-sm" })
                               </div>
                           </div>

                           @*@section Scripts {
                @Scripts.Render("~/bundles/jqueryval")
            }*@

                       </div>
                  
                   </div>

               </div>
            }
            </div>
    </header>
</body>

<footer class="footer py-4">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-4 text-lg-left">Copyright © www.bazaverlobos.com.ar 2020</div>
            <div class="col-lg-4 my-3 my-lg-0">

            </div>
            <div class="col-lg-4 text-lg-right">
                <a class="btn btn-dark btn-social mx-2" href="https://www.instagram.com/bazaverlobos/"><i class="fab fa-instagram"></i></a>
                <a class="mr-3" href="https://www.instagram.com/bazaverlobos/">@@BazaverLobos</a>
                @*<a class="mr-3" href="#!">Privacy Policy</a>
                    <a href="#!">Terms of Use</a>*@
            </div>
        </div>
    </div>
</footer>

@*<div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <img src="..." class="rounded mr-2" alt="...">
            <strong class="mr-auto">Bootstrap</strong>
            <small>11 mins ago</small>
            <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="toast-body">
            Hello, world! This is a toast message.
        </div>
    </div>*@

<script src="~/Content/vendor/jquery/jquery.min.js"></script>
<script src="~/Content/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
<script src="~/Content/assets/mail/jqBootstrapValidation.js"></script>
<script src="~/Content/assets/mail/contact_me.js"></script>

<script src="~/Content/js/scripts.js"></script>


